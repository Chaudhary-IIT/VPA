<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> Edit Lot </title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="/static/form.css">
</head>

<body>
    <form id="form-content" action="/edit_lot/{{lot.id}}" method="POST" enctype="multipart/form-data">
        <h3 id="heading">Edit Parking Lot</h3>
        <div class="mb-3">
            <label for="primelocation" class="form-label">Prime Location:</label>
            <input type="text" class="form-control" id="primelocation" name="location_name" value="{{lot.location_name}}" required>
        </div>
        <div class="mb-3">
            <label for="location" class="form-label">Address:</label>
            <input type="text" class="form-control" id="location" name="address" value="{{lot.address}}" required>
        </div>
        <div class="mb-3">
            <label for="pincode" class="form-label">Pincode:</label>
            <input type="number" class="form-control" id="pincode" name="pincode" value="{{lot.pincode}}" required>
        </div>
        <div class="mb-3">
            <label for="price" class="form-label">Price (per hour):</label>
            <input type="number" class="form-control" id="price" name="price" value="{{lot.price}}" required>
        </div>
        <div class="mb-3">
            <label for="maxspot" class="form-label">Max Spots:</label>
            <input type="number" class="form-control" id="maxspot" name="max_spots" value="{{lot.max_spots}}" required>
        </div>
        <div class="text-center">
            <button type="submit" class="btn btn-success me-5" style="margin-bottom: 5px ">Update</button>
            <a class="btn btn-danger" href="/dashboard/admin" role="button" style="margin-bottom: 5px;">Cancel</a>
        </div>
    </form>
    {% if warning %}
<div class="position-fixed top-0 start-50 translate-middle-x p-3" style="z-index: 1080; min-width: 300px;">
    <div id="warning-toast" class="toast align-items-center text-bg-warning border-0 show" role="alert" aria-live="assertive" aria-atomic="true" data-bs-autohide="false">
        <div class="d-flex">
            <div class="toast-body">
                {{ warning }}
            </div>
            <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
        </div>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        var toastEl = document.getElementById('warning-toast');
        var bsToast = bootstrap.Toast.getOrCreateInstance(toastEl);
        bsToast.show();
        setTimeout(function () {
            bsToast.hide();
        }, 4000);
    });
</script>
{% endif %}

</body>

</html>